{% extends 'user_template/my_fundraiser_campaign_dashboard.html' %}

{% block extra_style %}
{% endblock %}


{% block body %}
<main class="main_min_heg">
    <div class="container">
        <div class="row">
            <div class="col-sm-12">
                <div class="card mt-5">
                    <div class="card_header">
                        <div class="row">
                            <div class="col-sm-12 col-md-10">
                                <h5 style="color: #fff;">Buzz About The Campaign</h5>
                                <p class="mb-0" style="color: #fff;font-size: 14px;">Provide a link, image or text from
                                    an article that features your campaign.</p>
                            </div>
                            <div class="col-sm-12 col-md-2">
                                <div class="d-flex align-items-center h-100  justify-content-between">
                                    <button type="button" class="withdrawal_btn" data-toggle="modal"
                                        data-target="#edit_update">Post this Now</button>
                                </div>

                            </div>
                        </div>
                    </div>

                    <div class="mt-5">
                        <div class="m-auto" style="width: 95%">
                            <table class="table mt-3 custom_css_table">
                                <thead>
                                    <th scope="col" class="border-0 font-weight-bold">Date</th>
                                    <th scope="col" class="border-0 font-weight-bold"> Update Title </th>
                                    <th scope="col" class="border-0 font-weight-bold"> Action </th>
                                </thead>
                                <tbody>
                                    {% for buzz in instance_CampaignBuzz %}
                                    <tr>
                                        <td>{{buzz.created_at}}</td>
                                        <td>{{buzz.title}}</td>
                                        <td>
                                            <a href="{% url 'my_fundraiser_campaign_buzz_delete' url_text=instance_CampaignFundRaiser.url_text id=buzz.id %}"><i class="fa fa-trash danger" aria-hidden="true"></i></a>
                                        </td>
                                    </tr>
                                    {% endfor %}
                                </tbody>
                            </table>

                        </div>
                    </div>
                </div>
            </div>
        </div>



    </div>
</main>

{% endblock %}

{% block model_popup %}
<div class="modal fade" id="edit_update" role="dialog" aria-labelledby="edit_updateTittle" aria-hidden="false"
    data-backdrop="static">
    <div class="modal-dialog modal-dialog-scrollable modal-custom_modal  modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header border-0 pl-4  pb-1">
                <h5 class="modal-title" id="edit_updateTittle">Post Article Reference</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body withdrawal-modal-body pt-0 pb-0">
                    <form class="jss632" method="POST" enctype="multipart/form-data">
                        {% csrf_token %}
                        <div class="jss550 jss551 jss553">
                          <p class="jss515 jss524">Title</p>
                          <div class="jss550">
                            <div class="jss567 jss554 jss558 jss568 jss555 class_tittle_one">
                              {{CampaignBuzz_Form.title}}
                            </div>
                            <span class="error" id="id_tittle_one_error">{{CampaignBuzz_Form.errors.title}}</span>
                          </div>
                        </div>
                        <div class="jss550 jss551 jss553">
                          <p class="jss515 jss524">Buzz </p>
                          <div class="jss550">
                            <div class="jss567 jss554 jss568 jss555" id="id_about_buzz">
                              <textarea class="jss577 jss562  w-100" id="id_about" name="buzz" style="display: none;"></textarea>
                              <div id="standalone-container">
                            <div id="toolbar-container">
                              <span class="ql-formats">
                                <select class="ql-font"></select>
                                <select class="ql-size"></select>
                              </span>
                              <span class="ql-formats">
                                <button class="ql-bold"></button>
                                <button class="ql-italic"></button>
                                <button class="ql-underline"></button>
                                <button class="ql-strike"></button>
                              </span>
                              <span class="ql-formats">
                                <select class="ql-color"></select>
                                <select class="ql-background"></select>
                              </span>
                              <span class="ql-formats">
                                <button class="ql-script" value="sub"></button>
                                <button class="ql-script" value="super"></button>
                              </span>
                              <span class="ql-formats">
                                <button class="ql-header" value="1"></button>
                                <button class="ql-header" value="2"></button>
                                <button class="ql-blockquote"></button>
                                <button class="ql-code-block"></button>
                              </span>
                              <span class="ql-formats">
                                <button class="ql-list" value="ordered"></button>
                                <button class="ql-list" value="bullet"></button>
                                <button class="ql-indent" value="-1"></button>
                                <button class="ql-indent" value="+1"></button>
                              </span>
                              <span class="ql-formats">
                                <button class="ql-direction" value="rtl"></button>
                                <select class="ql-align"></select>
                              </span>
                              <span class="ql-formats">
                                <button class="ql-link"></button>
                                <button class="ql-image"></button>
                                <button class="ql-video"></button>
                                <button class="ql-formula"></button>
                              </span>
                              <span class="ql-formats">
                                <button class="ql-clean"></button>
                              </span>
                            </div>
                            <div id="editor-container"></div>
                          </div>
                            </div>
                            <span class="error" id="id_buzz_error"></span>
                          </div>
                        </div>
                        <div class="jss550 jss551 jss553">
                          <p class="jss515 jss524">Article Link</p>
                          <div class="jss550">
                            <div class="jss567 jss554 jss558 jss568 jss555">
                              {{CampaignBuzz_Form.article_link}}
                            </div>
                          </div>
                          <span class="error" id="article_error">{{CampaignBuzz_Form.errors.article_link}}</span>
                        </div>
                        <div class="jss550 jss551 jss553">
                          <p class="jss515 jss524">Publisher</p>
                          <div class="jss550">
                            <div class="jss567 jss554 jss558 jss568 jss555">
                              {{CampaignBuzz_Form.publisher}}
                            </div>
                          </div>
                          <span class="error" id="publisher_error">{{CampaignBuzz_Form.errors.publisher}}</span>
                        </div>
                        <div class="jss550 jss551 jss553">
                          <p class="jss515 jss524">Upload Image</p>
                          <div class="jss550">
                            <div class="jss567 jss554 jss558 jss568 jss555">
                              <span class="js">
                                <span class="box">
                                  <input type="file" name="picture" onchange="Validateimgupload_two(this);" id="id_picture_two"
                                    class="inputfile inputfile-1" data-multiple-caption="{count} files selected" required="required">
                                  <label id="lblfile-1" for="id_picture_two"><svg xmlns="http://www.w3.org/2000/svg" width="20"
                                      height="17" viewBox="0 0 20 17">
                                      <path
                                        d="M10 0l-5.2 4.9h3.3v5.1h3.8v-5.1h3.3l-5.2-4.9zm9.3 11.5l-3.2-2.1h-2l3.4 2.6h-3.5c-.1 0-.2.1-.2.1l-.8 2.3h-6l-.8-2.2c-.1-.1-.1-.2-.2-.2h-3.6l3.4-2.6h-2l-3.2 2.1c-.4.3-.7 1-.6 1.5l.6 3.1c.1.5.7.9 1.2.9h16.3c.6 0 1.1-.4 1.3-.9l.6-3.1c.1-.5-.2-1.2-.7-1.5z">
                                      </path>
                                    </svg> <span>Upload Image</span></label>
                                </span>
                              </span>
                            </div>
                            <span class="error id_picture_two_error"></span>
                          </div>
                        </div>
                        <div>
                        	{% comment %} <label class="jss867">
			                    <span class="jss892 jss886 jss882 jss895 jss899">
			                    <span class="jss891">
			                      <svg class="jss789 svg_show" focusable="false" viewBox="0 0 24 24" aria-hidden="true" role="presentation">
			                          <path d="M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z">
			                          </path>
			                      </svg>
			                      <svg class="jss789 svg_hide" focusable="false" viewBox="0 0 24 24" aria-hidden="true" role="presentation">
			                          <path d="M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z">
			                          </path>
			                        </svg>
			                      <input class="jss885" type="checkbox" id="id_send_email"  name="send_email"  ></span><span class="jss934"></span>
			                    </span>
			                                        <span class="jss798 jss807 jss872">
			                          <p style="font-size: 0.8rem; width: 100%; margin: 10px 0px;"> Notify all supporters about this post </a></p>
			                      </span>
			                </label> {% endcomment %}
                        </div>
                        <button name="form_type" value="Buzz" class="jss892 jss901 jss912 jss913 jss915 jss916 jss926 jss633"
                          id="Edit_buzz_fund" type="submit">
                          <span class="jss902">Post this now</span>
                          <span class="jss934"></span>
                        </button>
                      </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_script %}
<script>

    $(document).ready(function () {
        var dt = $('.costome_css').DataTable({
            "ordering": false,
            "info": false,
            "bLengthChange": false,
            "searching": false
        });
    });
</script>

<!-- Editor -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/katex.min.css" />

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/monokai-sublime.min.css" />

<link rel="stylesheet" href="/static/editor/quill.snow.css" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/katex.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>

<script src="/static/editor/quill.min.js"></script>

<script>
  var quill = new Quill('#editor-container', {
    modules: {
      formula: true,
      syntax: true,
      toolbar: '#toolbar-container'
    },    
    theme: 'snow'
  });

  quill.on('text-change', function(delta, oldDelta, source) {
            console.log(quill.container.firstChild.innerHTML)
            $('#id_about').text(quill.container.firstChild.innerHTML);
        });
 
</script>

{% endblock %}